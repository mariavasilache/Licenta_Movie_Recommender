@model IEnumerable<Licenta_Movie_Recommender.Models.Movie>

@{
    ViewData["Title"] = "Catalog Filme";
    
    var currentFilter = ViewData["CurrentFilter"] as string;
}

<div class="container mt-4 mb-5">

    <div class="d-flex justify-content-between align-items-center mb-4 border-bottom border-secondary pb-3">
        <h2 class="fw-bold text-light m-0">
            <i class="bi bi-collection-play text-danger me-2"></i> Catalog Filme
        </h2>

        @if (!string.IsNullOrEmpty(currentFilter))
        {
            <div class="text-muted">
                Rezultate pentru: <strong class="text-light">"@currentFilter"</strong>
                <a asp-action="Index" class="btn btn-sm btn-outline-danger ms-3 rounded-pill">
                    <i class="bi bi-x"></i> Șterge filtrul
                </a>
            </div>
        }
    </div>

    @* --- ECRAN "MOVIE DOESN'T EXIST" --- *@
    @if (!Model.Any())
    {
        <div class="alert bg-transparent border border-secondary shadow-sm text-center py-5 rounded-3 mt-4">
            <i class="bi bi-search display-1 d-block mb-3 text-secondary opacity-25"></i>
            <h3 class="fw-bold text-light">Nu am găsit niciun film</h3>
            <p class="text-muted lead mb-4">Ne pare rău, dar nu există niciun film care să conțină <strong class="text-danger">"@currentFilter"</strong> în baza noastră de date.</p>
            <a asp-action="Index" class="btn btn-danger px-4 py-2 shadow-sm fw-bold">
                <i class="bi bi-arrow-left me-2"></i> Întoarce-te la întregul catalog
            </a>
        </div>
    }
    else
    {
        @* --- GRILA DE FILME --- *@
        <div class="row">
            @foreach (var movie in Model)
            {
                <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-4">
                    <partial name="_MovieCard" model="movie" />
                </div>
            }
        </div>

       
    }

</div>